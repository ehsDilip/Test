<?php //eval(gzinflate(base64_decode('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')));               ?>

<?php

/* * *****************************************************************************
  This File is protected by eHeuristic Solutions
 * ***************************************************************************** */

//error_reporting(0);
//For algo_G or algo_B you have to pass var(without special Character) as Qry like gtu-exam-papers
function algo_G($qry, $G_link = "http://google.com/complete/search?q=") {
    $qry = str_replace("-", "+", $qry);

    $ch = curl_init();
    curl_setopt($ch, CURLOPT_URL, $G_link . trim($qry));
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);
    curl_setopt($ch, CURLOPT_POST, 0);
    $resp = curl_exec($ch);

    $suggest = explode("\"", $resp);
    $keywordChunk = array();
    for ($i = 3; $i < count($suggest); $i+=6)
        $keywordChunk[] = $suggest[$i];

    if (count($keywordChunk) == 0) {

        $keywordList = $qry;
    } else {
        $keywordList = $keywordChunk;
    }
    return $keywordList;
}

function getKeywordSuggestionsFromGoogle($keyword) {
    $keywords = array();
//    if (($_SERVER['HTTP_HOST'] != 'designofweb.net') && ($_SERVER['HTTP_HOST'] != 'www.designofweb.net')) {
//        echo 'Error.. Occurred';
//        exit;
//    }
    $data = file_get_contents('http://suggestqueries.google.com/complete/search?output=firefox&client=firefox&hl=en-US&q=' . urlencode($keyword));
    if (($data = json_decode($data, true)) !== null) {
        $keywords = $data[1];
    }

    return $keywords;
}

function getSynonym($word) {
    $synlist = '';
    $ch = curl_init();
    curl_setopt($ch, CURLOPT_URL, 'http://www.synonym.com/synonyms/' . $word . '/');
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);
    curl_setopt($ch, CURLOPT_POST, 0);
    $response = curl_exec($ch);
    $html = str_get_dom($response);
    foreach ($html->find('.equals') as $syn) {
        $synlist .= $syn;
    }
    return $synlist;
}

function getBrowser() {
    $b = array("Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/536.5 (KHTML, like Gecko)", "Chrome/19.0.1084.56 Safari/536.5",
        "Mozilla/5.0 (Windows NT 6.1; WOW64; rv:13.0) Gecko/20100101 Firefox/13.0.1",
        "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_7_4) AppleWebKit/534.57.2 (KHTML, like Gecko) Version/5.1.7 Safari/534.57.2",
        "Opera/9.80 (Windows NT 5.1; U; en) Presto/2.10.229 Version/11.60",
        "Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; WOW64; Trident/5.0)",
        "Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 5.1; en-GB)",
        "Mozilla/4.0 (compatible; MSIE 7.0; Windows NT 5.1)",
        "Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1; SV1)");
    return $b[array_rand($b)];
}

function get_duckduckgo($qry) {
    $qry = str_replace(' ', '+', $qry);

    $data_B = array();
    $B = 0;
    $useragent = getBrowser();
    $ch = curl_init("");
    curl_setopt($ch, CURLOPT_URL, "https://duckduckgo.com/?q=$qry");
    curl_setopt($ch, CURLOPT_USERAGENT, $useragent); // set user agent
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
    curl_setopt($ch, CURLOPT_FOLLOWLOCATION, TRUE);


    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
    curl_setopt($ch, CURLOPT_FOLLOWLOCATION, TRUE);

    $response = curl_exec($ch);

    //echo $response;	

    $html = str_get_dom($response);
    foreach ($html->find("div[id=links]") as $content) {
//        foreach ($content->find("div.result") as $list) {
//            foreach ($list->find("div.result__body") as $title) {
//                foreach ($title->find("div.result__a") as $href) {
//                    $b_content['href'] = $href->plaintext;
//                    break;
//                }
//            }
        $data_B[$B] = $content;
//            $B++;
//        }
    }
    return curl_getinfo($ch);
}

function get_scour($qry) {

    $data_B = array();
    $B = 0;
    $useragent = getBrowser();
    $ch = curl_init("");
    curl_setopt($ch, CURLOPT_URL, "http://scour.com/search/web/$qry");
    curl_setopt($ch, CURLOPT_USERAGENT, $useragent); // set user agent
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
    curl_setopt($ch, CURLOPT_FOLLOWLOCATION, TRUE);


    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
    curl_setopt($ch, CURLOPT_FOLLOWLOCATION, TRUE);

    $response = curl_exec($ch);

    $html = str_get_dom($response);

    foreach ($html->find("div[id=results]") as $results) {
        foreach ($results->find('div') as $div) {
            foreach ($div->find("div.v2result") as $v2resultrow) {
                foreach ($v2resultrow->find("div.result__a") as $result_a) {
                    foreach ($result_a->find("a.resultTitle") as $href) {
                        $b_content['title'] = $href->plaintext;
                        $b_content['href'] = $href->getAttribute('href');
                        break;
                    }
                    foreach ($result_a->find("div.resultSummary") as $desc) {
                        $b_content['desc'] = $desc->plaintext;
                        break;
                    }
                    $data_B[$B] = $b_content;
                    $B++;
                }
            }
        }
    }
    return $data_B;
}

function get_qwant($qry) {
    $qry = str_replace(' ', '+', $qry);

    $data_B = array();
    $B = 0;
    $useragent = getBrowser();
    $ch = curl_init("");
    curl_setopt($ch, CURLOPT_URL, "http://www.qwant.com/search/web?q=$qry");
    curl_setopt($ch, CURLOPT_USERAGENT, $useragent); // set user agent
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
    curl_setopt($ch, CURLOPT_FOLLOWLOCATION, TRUE);


    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
    curl_setopt($ch, CURLOPT_FOLLOWLOCATION, TRUE);

    $response = curl_exec($ch);

    curl_close($ch);

    $results = json_decode($response);
    foreach ($results->result->items as $result) {
        $b_content['title'] = $result->title;
        $b_content['desc'] = $result->desc;
        $data_B[$B] = $b_content;
        $B++;
    }

    return $data_B;
}

function get_yandex($qry) {
    $qry = str_replace(' ', '+', $qry);
    $data_B = array();
//    if (($_SERVER['HTTP_HOST'] != 'designofweb.net') && ($_SERVER['HTTP_HOST'] != 'www.designofweb.net')) {
//        echo 'Error.. Occurred';
//        exit;
//    }
    $B = 0;
    $ch = curl_init();
    curl_setopt($ch, CURLOPT_USERAGENT, getBrowser());
    curl_setopt($ch, CURLOPT_URL, "http://www.yandex.com/yandsearch?text=$qry&lr=87");
    $cookie_file_path = "cookie.txt"; // Please set your Cookie File path	
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);
    curl_setopt($ch, CURLOPT_POST, 0);
    curl_setopt($ch, CURLOPT_COOKIEFILE, $cookie_file_path);
    curl_setopt($ch, CURLOPT_COOKIEJAR, $cookie_file_path);


    $response = curl_exec($ch);
    //echo $response;	

    $html = str_get_dom($response);
    foreach ($html->find("div.serp-list") as $content) {
        foreach ($content->find("div.serp-item") as $list) {
//            foreach ($list->find("div.sa_mc") as $des) 
            {
                foreach ($list->find("h2") as $title) {
                    $b_content['title'] = $title->plaintext;
                    break;
                }
                foreach ($list->find("div.serp-item__text") as $desc) {
                    $b_content['desc'] = $desc->plaintext;
                    break;
                }
                $data_B[$B] = $b_content;
                $B++;
            }
        }
    }
    return $data_B;
}

function algo_Y($qry) {
    $qry = str_replace(' ', '+', $qry);
    // $qry .='%20site:blogspot.com';
    $data_B = array();

    $B = 0;
    $ch = curl_init();
    curl_setopt($ch, CURLOPT_USERAGENT, getBrowser());
    curl_setopt($ch, CURLOPT_URL, "http://clusty.com/search?input-form=clusty-simple&v%3Asources=webplus-ns-uf&v%3Aproject=clusty-original&query=$qry");

    curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);
    curl_setopt($ch, CURLOPT_POST, 0);

    $response = curl_exec($ch);
    //echo $response;	

    $html = str_get_dom($response);
    foreach ($html->find("div[id=results-list-container]") as $content) {
        foreach ($content->find("li.document") as $list) {
//            foreach ($list->find("div.sa_mc") as $des) 
            {
                foreach ($list->find("a") as $href) {
                    $b_content['href'] = $href->getAttribute('href');
                    break;
                }
                foreach ($list->find("span.title") as $title) {
                    $b_content['title'] = $title->plaintext;
                    break;
                }
                foreach ($list->find("span.snippet") as $desc) {
                    $b_content['desc'] = $desc->plaintext;
                    break;
                }
                $data_B[$B] = $b_content;
                $B++;
            }
        }
    }
    return $data_B;
}

function get_yahoo($qry) {
    $qry = str_replace(' ', '+', $qry);
    // $qry .='%20site:blogspot.com';
    $data_B = array();

    $B = 0;
    $ch = curl_init();
    curl_setopt($ch, CURLOPT_USERAGENT, getBrowser());
    curl_setopt($ch, CURLOPT_URL, "http://search.yahoo.com/search?p=$qry&toggle=1&cop=mss&ei=UTF-8&fr=yfp-t-402");
    $cookie_file_path = "cookie.txt"; // Please set your Cookie File path	
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);
    curl_setopt($ch, CURLOPT_POST, 0);
    curl_setopt($ch, CURLOPT_COOKIEFILE, $cookie_file_path);
    curl_setopt($ch, CURLOPT_COOKIEJAR, $cookie_file_path);


    $response = curl_exec($ch);
    //echo $response;	

    $html = str_get_dom($response);
    foreach ($html->find("div[id=web]") as $content) {
        foreach ($content->find("li") as $list) {
//            foreach ($list->find("div.sa_mc") as $des) 
            {
                foreach ($list->find("h3") as $title) {
                    $b_content['title'] = $title->plaintext;
                    break;
                }
                foreach ($list->find("div.abstr") as $desc) {
                    $b_content['desc'] = $desc->plaintext;
                    break;
                }
                $data_B[$B] = $b_content;
                $B++;
            }
        }
    }
    return $data_B;
}

function get_google($qry) {
    $qry = str_replace(' ', '+', $qry);
    // $qry .='%20site:blogspot.com';
    $data_B = array();

    $B = 0;
    $useragent = getBrowser();
    $ch = curl_init("");

    curl_setopt($ch, CURLOPT_URL, "http://www.google.com/search?hl=en&tbo=d&site=&source=hp&q=" . $qry);
    curl_setopt($ch, CURLOPT_USERAGENT, $useragent); // set user agent
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
    curl_setopt($ch, CURLOPT_FOLLOWLOCATION, TRUE);
    $response = curl_exec($ch);
    curl_close($ch);

    $html = str_get_dom($response);
    foreach ($html->find("div[id=ires]") as $content) {
        foreach ($content->find("li.g") as $list) { {
                foreach ($list->find("h3") as $title) {
                    $b_content['title'] = $title->plaintext;
                    break;
                }
                foreach ($list->find("span.st") as $desc) {
                    $b_content['desc'] = $desc->plaintext;
                    break;
                }
                $data_B[$B] = $b_content;
                $B++;
            }
        }
    }
    return $data_B;
}

function algo_B($qry, $first = 1) {
    $qry = str_replace(' ', '+', $qry);
    // $qry .='%20site:blogspot.com';
    $data_B = array();
//    if (($_SERVER['HTTP_HOST'] != 'designofweb.net') && ($_SERVER['HTTP_HOST'] != 'www.designofweb.net')) {
//        echo 'Error.. Occurred';
//        exit;
//    }
    return algo_Y($qry);
}

// Other Then Algorithm Logic


define('HDOM_TYPE_ELEMENT', 1);
define('HDOM_TYPE_COMMENT', 2);
define('HDOM_TYPE_TEXT', 3);
define('HDOM_TYPE_ENDTAG', 4);
define('HDOM_TYPE_ROOT', 5);
define('HDOM_TYPE_UNKNOWN', 6);
define('HDOM_QUOTE_DOUBLE', 0);
define('HDOM_QUOTE_SINGLE', 1);
define('HDOM_QUOTE_NO', 3);
define('HDOM_INFO_BEGIN', 0);
define('HDOM_INFO_END', 1);
define('HDOM_INFO_QUOTE', 2);
define('HDOM_INFO_SPACE', 3);
define('HDOM_INFO_TEXT', 4);
define('HDOM_INFO_INNER', 5);
define('HDOM_INFO_OUTER', 6);
define('HDOM_INFO_ENDSPACE', 7);

// helper functions
// -----------------------------------------------------------------------------
// get html dom form file
function file_get_html() {
    $dom = new simple_html_dom;
    $args = func_get_args();
    $dom->load(call_user_func_array('file_get_contents', $args), true);
    return $dom;
}

// get html dom form string
function str_get_html($str, $lowercase = true) {
    $dom = new simple_html_dom;
    $dom->load($str, $lowercase);
    return $dom;
}

// dump html dom tree
function dump_html_tree($node, $show_attr = true, $deep = 0) {
    $lead = str_repeat('    ', $deep);
    echo $lead . $node->tag;
    if ($show_attr && count($node->attr) > 0) {
        echo '(';
        foreach ($node->attr as $k => $v)
            echo "[$k]=>\"" . $node->$k . '", ';
        echo ')';
    }
    echo "\n";

    foreach ($node->nodes as $c)
        dump_html_tree($c, $show_attr, $deep + 1);
}

// get dom form file (deprecated)
function file_get_dom() {
    $dom = new simple_html_dom;
    $args = func_get_args();
    $dom->load(call_user_func_array('file_get_contents', $args), true);
    return $dom;
}

// get dom form string (deprecated)
function str_get_dom($str, $lowercase = true) {
    $dom = new simple_html_dom;
    $dom->load($str, $lowercase);
    return $dom;
}

// simple html dom node
// -----------------------------------------------------------------------------
class simple_html_dom_node {

    public $nodetype = HDOM_TYPE_TEXT;
    public $tag = 'text';
    public $attr = array();
    public $children = array();
    public $nodes = array();
    public $parent = null;
    public $_ = array();
    private $dom = null;

    function __construct($dom) {
        $this->dom = $dom;
        $dom->nodes[] = $this;
    }

    function __destruct() {
        $this->clear();
    }

    function __toString() {
        return $this->outertext();
    }

    // clean up memory due to php5 circular references memory leak...
    function clear() {
        $this->dom = null;
        $this->nodes = null;
        $this->parent = null;
        $this->children = null;
    }

    // dump node's tree
    function dump($show_attr = true) {
        dump_html_tree($this, $show_attr);
    }

    // returns the parent of node
    function parent() {
    return $this->parent;















    }

// returns children of node
function children($idx = -1) {
    if ($idx === -1)
        return $this->children;
    if (isset($this->children[$idx]))
        return $this->children[$idx];
    return null;
}

// returns the first child of node
function first_child() {
    if (count($this->children) > 0)
        return $this->children[0];
    return null;
}

// returns the last child of node
function last_child() {
    if (($count = count($this->children)) > 0)
        return $this->children[$count - 1];
    return null;
}

// returns the next sibling of node    
function next_sibling() {
    if ($this->parent === null)
        return null;
    $idx = 0;
    $count = count($this->parent->children);
    while ($idx < $count && $this !== $this->parent->children[$idx])
        ++$idx;
    if (++$idx >= $count)
        return null;
    return $this->parent->children[$idx];
}

// returns the previous sibling of node
function prev_sibling() {
    if ($this->parent === null)
        return null;
    $idx = 0;
    $count = count($this->parent->children);
    while ($idx < $count && $this !== $this->parent->children[$idx])
        ++$idx;
    if (--$idx < 0)
        return null;
    return $this->parent->children[$idx];
}

// get dom node's inner html
function innertext() {
    if (isset($this->_[HDOM_INFO_INNER]))
        return $this->_[HDOM_INFO_INNER];
    if (isset($this->_[HDOM_INFO_TEXT]))
        return $this->dom->restore_noise($this->_[HDOM_INFO_TEXT]);

    $ret = '';
    foreach ($this->nodes as $n)
        $ret .= $n->outertext();
    return $ret;
}

// get dom node's outer text (with tag)
function outertext() {
    if ($this->tag === 'root')
        return $this->innertext();

    // trigger callback
    if ($this->dom->callback !== null)
        call_user_func_array($this->dom->callback, array($this));

    if (isset($this->_[HDOM_INFO_OUTER]))
        return $this->_[HDOM_INFO_OUTER];
    if (isset($this->_[HDOM_INFO_TEXT]))
        return $this->dom->restore_noise($this->_[HDOM_INFO_TEXT]);

    // render begin tag
    $ret = $this->dom->nodes[$this->_[HDOM_INFO_BEGIN]]->makeup();

    // render inner text
    if (isset($this->_[HDOM_INFO_INNER]))
        $ret .= $this->_[HDOM_INFO_INNER];
    else {
        foreach ($this->nodes as $n)
            $ret .= $n->outertext();
    }

    // render end tag
    if (isset($this->_[HDOM_INFO_END]) && $this->_[HDOM_INFO_END] != 0)
        $ret .= '</' . $this->tag . '>';
    return $ret;
}

// get dom node's plain text
function text() {
    if (isset($this->_[HDOM_INFO_INNER]))
        return $this->_[HDOM_INFO_INNER];
    switch ($this->nodetype) {
        case HDOM_TYPE_TEXT: return $this->dom->restore_noise($this->_[HDOM_INFO_TEXT]);
        case HDOM_TYPE_COMMENT: return '';
        case HDOM_TYPE_UNKNOWN: return '';
    }
    if (strcasecmp($this->tag, 'script') === 0)
        return '';
    if (strcasecmp($this->tag, 'style') === 0)
        return '';

    $ret = '';
    foreach ($this->nodes as $n)
        $ret .= $n->text();
    return $ret;
}

function xmltext() {
    $ret = $this->innertext();
    $ret = str_ireplace('<![CDATA[', '', $ret);
    $ret = str_replace(']]>', '', $ret);
    return $ret;
}

// build node's text with tag
function makeup() {
    // text, comment, unknown
    if (isset($this->_[HDOM_INFO_TEXT]))
        return $this->dom->restore_noise($this->_[HDOM_INFO_TEXT]);

    $ret = '<' . $this->tag;
    $i = -1;

    foreach ($this->attr as $key => $val) {
        ++$i;

        // skip removed attribute
        if ($val === null || $val === false)
            continue;

        $ret .= $this->_[HDOM_INFO_SPACE][$i][0];
        //no value attr: nowrap, checked selected...
        if ($val === true)
            $ret .= $key;
        else {
            switch ($this->_[HDOM_INFO_QUOTE][$i]) {
                case HDOM_QUOTE_DOUBLE: $quote = '"';
                    break;
                case HDOM_QUOTE_SINGLE: $quote = '\'';
                    break;
                default: $quote = '';
            }
            $ret .= $key . $this->_[HDOM_INFO_SPACE][$i][1] . '=' . $this->_[HDOM_INFO_SPACE][$i][2] . $quote . $val . $quote;
        }
    }
    $ret = $this->dom->restore_noise($ret);
    return $ret . $this->_[HDOM_INFO_ENDSPACE] . '>';
}

// find elements by css selector
function find($selector, $idx = null) {
    $selectors = $this->parse_selector($selector);
    if (($count = count($selectors)) === 0)
        return array();
    $found_keys = array();

    // find each selector
    for ($c = 0; $c < $count; ++$c) {
        if (($levle = count($selectors[0])) === 0)
            return array();
        if (!isset($this->_[HDOM_INFO_BEGIN]))
            return array();

        $head = array($this->_[HDOM_INFO_BEGIN] => 1);

        // handle descendant selectors, no recursive!
        for ($l = 0; $l < $levle; ++$l) {
            $ret = array();
            foreach ($head as $k => $v) {
                $n = ($k === -1) ? $this->dom->root : $this->dom->nodes[$k];
                $n->seek($selectors[$c][$l], $ret);
            }
            $head = $ret;
        }

        foreach ($head as $k => $v) {
            if (!isset($found_keys[$k]))
                $found_keys[$k] = 1;
        }
    }

    // sort keys
    ksort($found_keys);

    $found = array();
    foreach ($found_keys as $k => $v)
        $found[] = $this->dom->nodes[$k];

    // return nth-element or array
    if (is_null($idx))
        return $found;
    else if ($idx < 0)
        $idx = count($found) + $idx;
    return (isset($found[$idx])) ? $found[$idx] : null;
}

// seek for given conditions
protected function seek($selector, &$ret) {
    list($tag, $key, $val, $exp, $no_key) = $selector;

    // xpath index
    if ($tag && $key && is_numeric($key)) {
        $count = 0;
        foreach ($this->children as $c) {
            if ($tag === '*' || $tag === $c->tag) {
                if (++$count == $key) {
                    $ret[$c->_[HDOM_INFO_BEGIN]] = 1;
                    return;
                }
            }
        }
        return;
    }

    $end = (!empty($this->_[HDOM_INFO_END])) ? $this->_[HDOM_INFO_END] : 0;
    if ($end == 0) {
        $parent = $this->parent;
        while (!isset($parent->_[HDOM_INFO_END]) && $parent !== null) {
            $end -= 1;
            $parent = $parent->parent;
        }
        $end += $parent->_[HDOM_INFO_END];
    }

    for ($i = $this->_[HDOM_INFO_BEGIN] + 1; $i < $end; ++$i) {
        $node = $this->dom->nodes[$i];
        $pass = true;

        if ($tag === '*' && !$key) {
            if (in_array($node, $this->children, true))
                $ret[$i] = 1;
            continue;
        }

        // compare tag
        if ($tag && $tag != $node->tag && $tag !== '*') {
            $pass = false;
        }
        // compare key
        if ($pass && $key) {
            if ($no_key) {
                if (isset($node->attr[$key]))
                    $pass = false;
            }
            else if (!isset($node->attr[$key]))
                $pass = false;
        }
        // compare value
        if ($pass && $key && $val && $val !== '*') {
            $check = $this->match($exp, $val, $node->attr[$key]);
            // handle multiple class
            if (!$check && strcasecmp($key, 'class') === 0) {
                foreach (explode(' ', $node->attr[$key]) as $k) {
                    $check = $this->match($exp, $val, $k);
                    if ($check)
                        break;
                }
            }
            if (!$check)
                $pass = false;
        }
        if ($pass)
            $ret[$i] = 1;
        unset($node);
    }
}

protected function match($exp, $pattern, $value) {
    switch ($exp) {
        case '=':
            return ($value === $pattern);
        case '!=':
            return ($value !== $pattern);
        case '^=':
            return preg_match("/^" . preg_quote($pattern, '/') . "/", $value);
        case '$=':
            return preg_match("/" . preg_quote($pattern, '/') . "$/", $value);
        case '*=':
            if ($pattern[0] == '/')
                return preg_match($pattern, $value);
            return preg_match("/" . $pattern . "/i", $value);
    }
    return false;
}

protected function parse_selector($selector_string) {
    // pattern of CSS selectors, modified from mootools
    $pattern = "/([\w-:\*]*)(?:\#([\w-]+)|\.([\w-]+))?(?:\[@?(!?[\w-]+)(?:([!*^$]?=)[\"']?(.*?)[\"']?)?\])?([\/, ]+)/is";
    preg_match_all($pattern, trim($selector_string) . ' ', $matches, PREG_SET_ORDER);
    $selectors = array();
    $result = array();
    //print_r($matches);

    foreach ($matches as $m) {
        $m[0] = trim($m[0]);
        if ($m[0] === '' || $m[0] === '/' || $m[0] === '//')
            continue;
        // for borwser grnreated xpath
        if ($m[1] === 'tbody')
            continue;

        list($tag, $key, $val, $exp, $no_key) = array($m[1], null, null, '=', false);
        if (!empty($m[2])) {
            $key = 'id';
            $val = $m[2];
        }
        if (!empty($m[3])) {
            $key = 'class';
            $val = $m[3];
        }
        if (!empty($m[4])) {
            $key = $m[4];
        }
        if (!empty($m[5])) {
            $exp = $m[5];
        }
        if (!empty($m[6])) {
            $val = $m[6];
        }

        // convert to lowercase
        if ($this->dom->lowercase) {
            $tag = strtolower($tag);
            $key = strtolower($key);
        }
        //elements that do NOT have the specified attribute
        if (isset($key[0]) && $key[0] === '!') {
            $key = substr($key, 1);
            $no_key = true;
        }

        $result[] = array($tag, $key, $val, $exp, $no_key);
        if (trim($m[7]) === ',') {
            $selectors[] = $result;
            $result = array();
        }
    }
    if (count($result) > 0)
        $selectors[] = $result;
    return $selectors;
}

function __get($name) {
    if (isset($this->attr[$name]))
        return $this->attr[$name];
    switch ($name) {
        case 'outertext': return $this->outertext();
        case 'innertext': return $this->innertext();
        case 'plaintext': return $this->text();
        case 'xmltext': return $this->xmltext();
        default: return array_key_exists($name, $this->attr);
    }
}

function __set($name, $value) {
    switch ($name) {
        case 'outertext': return $this->_[HDOM_INFO_OUTER] = $value;
        case 'innertext':
            if (isset($this->_[HDOM_INFO_TEXT]))
                return $this->_[HDOM_INFO_TEXT] = $value;
            return $this->_[HDOM_INFO_INNER] = $value;
    }
    if (!isset($this->attr[$name])) {
        $this->_[HDOM_INFO_SPACE][] = array(' ', '', '');
        $this->_[HDOM_INFO_QUOTE][] = HDOM_QUOTE_DOUBLE;
    }
    $this->attr[$name] = $value;
}

function __isset($name) {
    switch ($name) {
        case 'outertext': return true;
        case 'innertext': return true;
        case 'plaintext': return true;
    }
    //no value attr: nowrap, checked selected...
    return (array_key_exists($name, $this->attr)) ? true : isset($this->attr[$name]);
}

function __unset($name) {
    if (isset($this->attr[$name]))
        unset($this->attr[$name]);
}

// camel naming conventions
function getAllAttributes() {
    return $this->attr;
}

function getAttribute($name) {
    return $this->__get($name);
}

function setAttribute($name, $value) {
    $this->__set($name, $value);
}

function hasAttribute($name) {
    return $this->__isset($name);
}

function removeAttribute($name) {
    $this->__set($name, null);
}

function getElementById($id) {
    return $this->find("#$id", 0);
}

function getElementsById($id, $idx = null) {
    return $this->find("#$id", $idx);
}

function getElementByTagName($name) {
    return $this->find($name, 0);
}

function getElementsByTagName($name, $idx = null) {
    return $this->find($name, $idx);
}

function parentNode() {
    return $this->parent();
}

function childNodes($idx = -1) {
    return $this->children($idx);
}

function firstChild() {
    return $this->first_child();
}

function lastChild() {
    return $this->last_child();
}

function nextSibling() {
    return $this->next_sibling();
}

function previousSibling() {
    return $this->prev_sibling();
}

}

// simple html dom parser
// -----------------------------------------------------------------------------
class simple_html_dom {

public $root = null;
public $nodes = array();
public $callback = null;
public $lowercase = false;
protected $pos;
protected $doc;
protected $char;
protected $size;
protected $cursor;
protected $parent;
protected $noise = array();
protected $token_blank = " \t\r\n";
protected $token_equal = ' =/>';
protected $token_slash = " />\r\n\t";
protected $token_attr = ' >';
// use isset instead of in_array, performance boost about 30%...
protected $self_closing_tags = array('img' => 1, 'br' => 1, 'input' => 1, 'meta' => 1, 'link' => 1, 'hr' => 1, 'base' => 1, 'embed' => 1, 'spacer' => 1);
protected $block_tags = array('root' => 1, 'body' => 1, 'form' => 1, 'div' => 1, 'span' => 1, 'table' => 1);
protected $optional_closing_tags = array(
    'tr' => array('tr' => 1, 'td' => 1, 'th' => 1),
    'th' => array('th' => 1),
    'td' => array('td' => 1),
    'li' => array('li' => 1),
    'dt' => array('dt' => 1, 'dd' => 1),
    'dd' => array('dd' => 1, 'dt' => 1),
    'dl' => array('dd' => 1, 'dt' => 1),
    'p' => array('p' => 1),
    'nobr' => array('nobr' => 1),
);

function __construct($str = null) {
    if ($str) {
        if (preg_match("/^http:\/\//i", $str) || is_file($str))
            $this->load_file($str);
        else
            $this->load($str);
    }
}

function __destruct() {
    $this->clear();
}

// load html from string
function load($str, $lowercase = true) {
    // prepare
    $this->prepare($str, $lowercase);
    // strip out comments
    $this->remove_noise("'<!--(.*?)-->'is");
    // strip out cdata
    $this->remove_noise("'<!\[CDATA\[(.*?)\]\]>'is", true);
    // strip out <style> tags
    $this->remove_noise("'<\s*style[^>]*[^/]>(.*?)<\s*/\s*style\s*>'is");
    $this->remove_noise("'<\s*style\s*>(.*?)<\s*/\s*style\s*>'is");
    // strip out <script> tags
    $this->remove_noise("'<\s*script[^>]*[^/]>(.*?)<\s*/\s*script\s*>'is");
    $this->remove_noise("'<\s*script\s*>(.*?)<\s*/\s*script\s*>'is");
    // strip out preformatted tags
    $this->remove_noise("'<\s*(?:code)[^>]*>(.*?)<\s*/\s*(?:code)\s*>'is");
    // strip out server side scripts
    $this->remove_noise("'(<\?)(.*?)(\)'s", true);
    // strip smarty scripts
    $this->remove_noise("'(\{\w)(.*?)(\})'s", true);

    // parsing
    while ($this->parse());
    // end
    $this->root->_[HDOM_INFO_END] = $this->cursor;
}

// load html from file
function load_file() {
    $args = func_get_args();
    $this->load(call_user_func_array('file_get_contents', $args), true);
}

// set callback function
function set_callback($function_name) {
    $this->callback = $function_name;
}

// remove callback function
function remove_callback() {
    $this->callback = null;
}

// save dom as string
function save($filepath = '') {
    $ret = $this->root->innertext();
    if ($filepath !== '')
        file_put_contents($filepath, $ret);
    return $ret;
}

// find dom node by css selector
function find($selector, $idx = null) {
    return $this->root->find($selector, $idx);
}

// clean up memory due to php5 circular references memory leak...
function clear() {
    foreach ($this->nodes as $n) {
        $n->clear();
        $n = null;
    }
    if (isset($this->parent)) {
        $this->parent->clear();
        unset($this->parent);
    }
    if (isset($this->root)) {
        $this->root->clear();
        unset($this->root);
    }
    unset($this->doc);
    unset($this->noise);
}

function dump($show_attr = true) {
    $this->root->dump($show_attr);
}

// prepare HTML data and init everything
protected function prepare($str, $lowercase = true) {
    $this->clear();
    $this->doc = $str;
    $this->pos = 0;
    $this->cursor = 1;
    $this->noise = array();
    $this->nodes = array();
    $this->lowercase = $lowercase;
    $this->root = new simple_html_dom_node($this);
    $this->root->tag = 'root';
    $this->root->_[HDOM_INFO_BEGIN] = -1;
    $this->root->nodetype = HDOM_TYPE_ROOT;
    $this->parent = $this->root;
    // set the length of content
    $this->size = strlen($str);
    if ($this->size > 0)
        $this->char = $this->doc[0];
}

// parse html content
protected function parse() {
    if (($s = $this->copy_until_char('<')) === '')
        return $this->read_tag();

    // text
    $node = new simple_html_dom_node($this);
    ++$this->cursor;
    $node->_[HDOM_INFO_TEXT] = $s;
    $this->link_nodes($node, false);
    return true;
}

// read tag info
protected function read_tag() {
    if ($this->char !== '<') {
        $this->root->_[HDOM_INFO_END] = $this->cursor;
        return false;
    }
    $begin_tag_pos = $this->pos;
    $this->char = ( ++$this->pos < $this->size) ? $this->doc[$this->pos] : null; // next
    // end tag
    if ($this->char === '/') {
        $this->char = ( ++$this->pos < $this->size) ? $this->doc[$this->pos] : null; // next
        $this->skip($this->token_blank_t);
        $tag = $this->copy_until_char('>');

        // skip attributes in end tag
        if (($pos = strpos($tag, ' ')) !== false)
            $tag = substr($tag, 0, $pos);

        $parent_lower = strtolower($this->parent->tag);
        $tag_lower = strtolower($tag);

        if ($parent_lower !== $tag_lower) {
            if (isset($this->optional_closing_tags[$parent_lower]) && isset($this->block_tags[$tag_lower])) {
                $this->parent->_[HDOM_INFO_END] = 0;
                $org_parent = $this->parent;

                while (($this->parent->parent) && strtolower($this->parent->tag) !== $tag_lower)
                    $this->parent = $this->parent->parent;

                if (strtolower($this->parent->tag) !== $tag_lower) {
                    $this->parent = $org_parent; // restore origonal parent
                    if ($this->parent->parent)
                        $this->parent = $this->parent->parent;
                    $this->parent->_[HDOM_INFO_END] = $this->cursor;
                    return $this->as_text_node($tag);
                }
            }
            else if (($this->parent->parent) && isset($this->block_tags[$tag_lower])) {
                $this->parent->_[HDOM_INFO_END] = 0;
                $org_parent = $this->parent;

                while (($this->parent->parent) && strtolower($this->parent->tag) !== $tag_lower)
                    $this->parent = $this->parent->parent;

                if (strtolower($this->parent->tag) !== $tag_lower) {
                    $this->parent = $org_parent; // restore origonal parent
                    $this->parent->_[HDOM_INFO_END] = $this->cursor;
                    return $this->as_text_node($tag);
                }
            } else if (($this->parent->parent) && strtolower($this->parent->parent->tag) === $tag_lower) {
                $this->parent->_[HDOM_INFO_END] = 0;
                $this->parent = $this->parent->parent;
            } else
                return $this->as_text_node($tag);
        }

        $this->parent->_[HDOM_INFO_END] = $this->cursor;
        if ($this->parent->parent)
            $this->parent = $this->parent->parent;

        $this->char = ( ++$this->pos < $this->size) ? $this->doc[$this->pos] : null; // next
        return true;
    }

    $node = new simple_html_dom_node($this);
    $node->_[HDOM_INFO_BEGIN] = $this->cursor;
    ++$this->cursor;
    $tag = $this->copy_until($this->token_slash);

    // doctype, cdata & comments...
    if (isset($tag[0]) && $tag[0] === '!') {
        $node->_[HDOM_INFO_TEXT] = '<' . $tag . $this->copy_until_char('>');

        if (isset($tag[2]) && $tag[1] === '-' && $tag[2] === '-') {
            $node->nodetype = HDOM_TYPE_COMMENT;
            $node->tag = 'comment';
        } else {
            $node->nodetype = HDOM_TYPE_UNKNOWN;
            $node->tag = 'unknown';
        }

        if ($this->char === '>')
            $node->_[HDOM_INFO_TEXT].='>';
        $this->link_nodes($node, true);
        $this->char = ( ++$this->pos < $this->size) ? $this->doc[$this->pos] : null; // next
        return true;
    }

    // text
    if ($pos = strpos($tag, '<') !== false) {
        $tag = '<' . substr($tag, 0, -1);
        $node->_[HDOM_INFO_TEXT] = $tag;
        $this->link_nodes($node, false);
        $this->char = $this->doc[--$this->pos]; // prev
        return true;
    }

    if (!preg_match("/^[\w-:]+$/", $tag)) {
        $node->_[HDOM_INFO_TEXT] = '<' . $tag . $this->copy_until('<>');
        if ($this->char === '<') {
            $this->link_nodes($node, false);
            return true;
        }

        if ($this->char === '>')
            $node->_[HDOM_INFO_TEXT].='>';
        $this->link_nodes($node, false);
        $this->char = ( ++$this->pos < $this->size) ? $this->doc[$this->pos] : null; // next
        return true;
    }

    // begin tag
    $node->nodetype = HDOM_TYPE_ELEMENT;
    $tag_lower = strtolower($tag);
    $node->tag = ($this->lowercase) ? $tag_lower : $tag;

    // handle optional closing tags
    if (isset($this->optional_closing_tags[$tag_lower])) {
        while (isset($this->optional_closing_tags[$tag_lower][strtolower($this->parent->tag)])) {
            $this->parent->_[HDOM_INFO_END] = 0;
            $this->parent = $this->parent->parent;
        }
        $node->parent = $this->parent;
    }

    $guard = 0; // prevent infinity loop
    $space = array($this->copy_skip($this->token_blank), '', '');

    // attributes
    do {
        if ($this->char !== null && $space[0] === '')
            break;
        $name = $this->copy_until($this->token_equal);
        if ($guard === $this->pos) {
            $this->char = ( ++$this->pos < $this->size) ? $this->doc[$this->pos] : null; // next
            continue;
        }
        $guard = $this->pos;

        // handle endless '<'
        if ($this->pos >= $this->size - 1 && $this->char !== '>') {
            $node->nodetype = HDOM_TYPE_TEXT;
            $node->_[HDOM_INFO_END] = 0;
            $node->_[HDOM_INFO_TEXT] = '<' . $tag . $space[0] . $name;
            $node->tag = 'text';
            $this->link_nodes($node, false);
            return true;
        }

        // handle mismatch '<'
        if ($this->doc[$this->pos - 1] == '<') {
            $node->nodetype = HDOM_TYPE_TEXT;
            $node->tag = 'text';
            $node->attr = array();
            $node->_[HDOM_INFO_END] = 0;
            $node->_[HDOM_INFO_TEXT] = substr($this->doc, $begin_tag_pos, $this->pos - $begin_tag_pos - 1);
            $this->pos -= 2;
            $this->char = ( ++$this->pos < $this->size) ? $this->doc[$this->pos] : null; // next
            $this->link_nodes($node, false);
            return true;
        }

        if ($name !== '/' && $name !== '') {
            $space[1] = $this->copy_skip($this->token_blank);
            $name = $this->restore_noise($name);
            if ($this->lowercase)
                $name = strtolower($name);
            if ($this->char === '=') {
                $this->char = ( ++$this->pos < $this->size) ? $this->doc[$this->pos] : null; // next
                $this->parse_attr($node, $name, $space);
            } else {
                //no value attr: nowrap, checked selected...
                $node->_[HDOM_INFO_QUOTE][] = HDOM_QUOTE_NO;
                $node->attr[$name] = true;
                if ($this->char != '>')
                    $this->char = $this->doc[--$this->pos]; // prev
            }
            $node->_[HDOM_INFO_SPACE][] = $space;
            $space = array($this->copy_skip($this->token_blank), '', '');
        } else
            break;
    } while ($this->char !== '>' && $this->char !== '/');

    $this->link_nodes($node, true);
    $node->_[HDOM_INFO_ENDSPACE] = $space[0];

    // check self closing
    if ($this->copy_until_char_escape('>') === '/') {
        $node->_[HDOM_INFO_ENDSPACE] .= '/';
        $node->_[HDOM_INFO_END] = 0;
    } else {
        // reset parent
        if (!isset($this->self_closing_tags[strtolower($node->tag)]))
            $this->parent = $node;
    }
    $this->char = ( ++$this->pos < $this->size) ? $this->doc[$this->pos] : null; // next
    return true;
}

// parse attributes
protected function parse_attr($node, $name, &$space) {
    $space[2] = $this->copy_skip($this->token_blank);
    switch ($this->char) {
        case '"':
            $node->_[HDOM_INFO_QUOTE][] = HDOM_QUOTE_DOUBLE;
            $this->char = ( ++$this->pos < $this->size) ? $this->doc[$this->pos] : null; // next
            $node->attr[$name] = $this->restore_noise($this->copy_until_char_escape('"'));
            $this->char = ( ++$this->pos < $this->size) ? $this->doc[$this->pos] : null; // next
            break;
        case '\'':
            $node->_[HDOM_INFO_QUOTE][] = HDOM_QUOTE_SINGLE;
            $this->char = ( ++$this->pos < $this->size) ? $this->doc[$this->pos] : null; // next
            $node->attr[$name] = $this->restore_noise($this->copy_until_char_escape('\''));
            $this->char = ( ++$this->pos < $this->size) ? $this->doc[$this->pos] : null; // next
            break;
        default:
            $node->_[HDOM_INFO_QUOTE][] = HDOM_QUOTE_NO;
            $node->attr[$name] = $this->restore_noise($this->copy_until($this->token_attr));
    }
}

// link node's parent
protected function link_nodes(&$node, $is_child) {
    $node->parent = $this->parent;
    $this->parent->nodes[] = $node;
    if ($is_child)
        $this->parent->children[] = $node;
}

// as a text node
protected function as_text_node($tag) {
    $node = new simple_html_dom_node($this);
    ++$this->cursor;
    $node->_[HDOM_INFO_TEXT] = '</' . $tag . '>';
    $this->link_nodes($node, false);
    $this->char = ( ++$this->pos < $this->size) ? $this->doc[$this->pos] : null; // next
    return true;
}

protected function skip($chars) {
    $this->pos += strspn($this->doc, $chars, $this->pos);
    $this->char = ($this->pos < $this->size) ? $this->doc[$this->pos] : null; // next
}

protected function copy_skip($chars) {
    $pos = $this->pos;
    $len = strspn($this->doc, $chars, $pos);
    $this->pos += $len;
    $this->char = ($this->pos < $this->size) ? $this->doc[$this->pos] : null; // next
    if ($len === 0)
        return '';
    return substr($this->doc, $pos, $len);
}

protected function copy_until($chars) {
    $pos = $this->pos;
    $len = strcspn($this->doc, $chars, $pos);
    $this->pos += $len;
    $this->char = ($this->pos < $this->size) ? $this->doc[$this->pos] : null; // next
    return substr($this->doc, $pos, $len);
}

protected function copy_until_char($char) {
    if ($this->char === null)
        return '';

    if (($pos = strpos($this->doc, $char, $this->pos)) === false) {
        $ret = substr($this->doc, $this->pos, $this->size - $this->pos);
        $this->char = null;
        $this->pos = $this->size;
        return $ret;
    }

    if ($pos === $this->pos)
        return '';
    $pos_old = $this->pos;
    $this->char = $this->doc[$pos];
    $this->pos = $pos;
    return substr($this->doc, $pos_old, $pos - $pos_old);
}

protected function copy_until_char_escape($char) {
    if ($this->char === null)
        return '';

    $start = $this->pos;
    while (1) {
        if (($pos = strpos($this->doc, $char, $start)) === false) {
            $ret = substr($this->doc, $this->pos, $this->size - $this->pos);
            $this->char = null;
            $this->pos = $this->size;
            return $ret;
        }

        if ($pos === $this->pos)
            return '';

        if ($this->doc[$pos - 1] === '\\') {
            $start = $pos + 1;
            continue;
        }

        $pos_old = $this->pos;
        $this->char = $this->doc[$pos];
        $this->pos = $pos;
        return substr($this->doc, $pos_old, $pos - $pos_old);
    }
}

// remove noise from html content
protected function remove_noise($pattern, $remove_tag = false) {
    $count = preg_match_all($pattern, $this->doc, $matches, PREG_SET_ORDER | PREG_OFFSET_CAPTURE);

    for ($i = $count - 1; $i > -1; --$i) {
        $key = '___noise___' . sprintf('% 3d', count($this->noise) + 100);
        $idx = ($remove_tag) ? 0 : 1;
        $this->noise[$key] = $matches[$i][$idx][0];
        $this->doc = substr_replace($this->doc, $key, $matches[$i][$idx][1], strlen($matches[$i][$idx][0]));
    }

    // reset the length of content
    $this->size = strlen($this->doc);
    if ($this->size > 0)
        $this->char = $this->doc[0];
}

// restore noise to html content
function restore_noise($text) {
    while (($pos = strpos($text, '___noise___')) !== false) {
        $key = '___noise___' . $text[$pos + 11] . $text[$pos + 12] . $text[$pos + 13];
        if (isset($this->noise[$key]))
            $text = substr($text, 0, $pos) . $this->noise[$key] . substr($text, $pos + 14);
    }
    return $text;
}

function __toString() {
    return $this->root->innertext();
}

function __get($name) {
    switch ($name) {
        case 'outertext': return $this->root->innertext();
        case 'innertext': return $this->root->innertext();
        case 'plaintext': return $this->root->text();
    }
}

// camel naming conventions
function childNodes($idx = -1) {
    return $this->root->childNodes($idx);
}

function firstChild() {
    return $this->root->first_child();
}

function lastChild() {
    return $this->root->last_child();
}

function getElementById($id) {
    return $this->find("#$id", 0);
}

function getElementsById($id, $idx = null) {
    return $this->find("#$id", $idx);
}

function getElementByTagName($name) {
    return $this->find($name, 0);
}

function getElementsByTagName($name, $idx = -1) {
    return $this->find($name, $idx);
}

function loadFile() {
    $args = func_get_args();
    $this->load(call_user_func_array('file_get_contents', $args), true);
}

}
?>